#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ç˜‹ç‹‚Ï€æ•¸å­—æµç”Ÿæˆå™¨
åƒäº‚ç¢¼ä¸€æ¨£ç˜‹ç‹‚è¼¸å‡ºÏ€çš„æ•¸å­—ï¼Œæ°¸é ä¸åœ
"""

import time
import sys
import threading
import random


def crazy_pi_stream():
    """
    ç˜‹ç‹‚Ï€æ•¸å­—æµ - æ°¸ä¸åœæ­¢çš„æ•¸å­—é›¨
    """
    # é è¨ˆç®—çš„Ï€æ•¸å­—ï¼ˆå¾ˆå¤šä½ï¼‰
    pi_digits = "31415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632788659361533818279682303019520353018529689957736225994138912497217752834791315155748572424541506959508295331168617278558890750983817546374649393192550604009277016711390098488240128583616035637076601047101819429555961989467678374494482553797747268471040475346462080466842590694912933136770289891521047521620569660240580381501935112533824300355"

    index = 0
    output_count = 0

    print("ğŸ’¥ ç˜‹ç‹‚Ï€æ•¸å­—æµå•Ÿå‹•ï¼")
    print("ğŸŒŠ æ•¸å­—é›¨å³å°‡é–‹å§‹...")
    time.sleep(1)
    print("ğŸš€ GO GO GO!!!\n")

    while True:
        try:
            # ç˜‹ç‹‚è¼¸å‡ºÏ€æ•¸å­—
            digit = pi_digits[index % len(pi_digits)]
            print(digit, end="", flush=True)

            index += 1
            output_count += 1

            # å¶çˆ¾åŠ é»ç‰¹æ•ˆ
            if random.random() < 0.001:  # 0.1%æ©Ÿç‡
                special_chars = ["Ï€", "âˆ"]
                print(random.choice(special_chars), end="", flush=True)

            # è¶…å¿«é€Ÿè¼¸å‡º
            time.sleep(0.001)

        except:
            # ä»»ä½•éŒ¯èª¤éƒ½å¿½ç•¥ï¼Œç¹¼çºŒé‹è¡Œ
            continue


def matrix_style_pi():
    """
    é§­å®¢é¢¨æ ¼çš„Ï€æ•¸å­—çŸ©é™£é›¨
    """
    print("ç¶ è‰²Ï€çŸ©é™£...")
    time.sleep(1)

    pi_digits = "31415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989"

    pos = 0

    while True:
        try:
            # å¤šåˆ—åŒæ™‚è¼¸å‡º
            line = ""
            for col in range(80):  # 80å€‹å­—ç¬¦å¯¬åº¦
                if random.random() < 0.3:  # 30%æ©Ÿç‡é¡¯ç¤ºÏ€æ•¸å­—
                    line += pi_digits[(pos + col) % len(pi_digits)]
                else:
                    line += random.choice("0123456789")

            print(line, flush=True)
            pos += 1
            time.sleep(0.05)

        except:
            continue


def hyper_speed_pi():
    """
    è¶…é«˜é€ŸÏ€æ•¸å­—è¼¸å‡º
    """
    pi_digits = "31415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632788659361533818279682303019520353018529689957736225994138912497217752834791315155748572424541506959508295331168617278558890750983817546374649393192550604009277016711390098488240128583616035637076601047101819429555961989467678374494482553797747268471040475346462080466842590694912933136770289891521047521620569660240580381501935112533824300355"

    print("è¶…é«˜é€ŸÏ€æ•¸å­—æµï¼")
    print("æº–å‚™æ¥å—æ•¸å­—è½Ÿç‚¸...")
    time.sleep(1)

    index = 0

    while True:
        try:
            # è¶…å¿«é€Ÿè¼¸å‡º
            for _ in range(100):  # æ¯æ¬¡è¼¸å‡º100å€‹æ•¸å­—
                print(pi_digits[index % len(pi_digits)], end="")
                index += 1

            sys.stdout.flush()
            # å¹¾ä¹æ²’æœ‰å»¶é²
            time.sleep(0.001)

        except:
            continue


def main():
    """ä¸»ç¨‹åºé¸æ“‡"""
    print("é¸æ“‡æ‚¨çš„Ï€ç˜‹ç‹‚æ¨¡å¼ï¼š")
    print("1. ç˜‹ç‹‚Ï€æ•¸å­—æµï¼ˆåƒäº‚ç¢¼ä¸€æ¨£ï¼‰")
    print("2. é§­å®¢é¢¨æ ¼Ï€çŸ©é™£é›¨")
    print("3. è¶…é«˜é€ŸÏ€æ•¸å­—è½Ÿç‚¸")

    choice = input("é¸æ“‡æ¨¡å¼ (1-3ï¼Œç›´æ¥Enteré¸1): ").strip()

    print("\n" + "è­¦å‘Šï¼šç¨‹åºå³å°‡é€²å…¥ç„¡é™å¾ªç’°æ¨¡å¼ï¼" * 3)
    print("åªèƒ½é€šéå¼·åˆ¶é—œé–‰æ‰èƒ½åœæ­¢ï¼")

    countdown = input("\næº–å‚™å¥½äº†å—ï¼ŸæŒ‰Enteré–‹å§‹å€’æ•¸...")

    for i in range(3, 0, -1):
        print(f"{i}...")
        time.sleep(1)

    print("å•Ÿå‹•ï¼ï¼ï¼\n")

    try:
        if choice == "2":
            matrix_style_pi()
        elif choice == "3":
            hyper_speed_pi()
        else:
            crazy_pi_stream()
    except:
        # å³ä½¿å‡ºéŒ¯ä¹Ÿè¦é‡å•Ÿ
        print("\né‡æ–°å•Ÿå‹•...")
        main()


if __name__ == "__main__":
    main()
